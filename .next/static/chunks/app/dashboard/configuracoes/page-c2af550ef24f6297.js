(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[761],{98515:function(e,t,r){Promise.resolve().then(r.bind(r,61447))},98998:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},46578:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},28814:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},81049:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},70699:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},29910:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},50489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},52235:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(87461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},47907:function(e,t,r){"use strict";var a=r(15313);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},61447:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(3827),s=r(29910),o=r(70699),c=r(81049),n=r(50489),i=r(5590),l=r(47907),d=r(64090);function u(){let{logout:e,showToast:t}=(0,i.e)(),r=(0,l.useRouter)(),[u,h]=(0,d.useState)("Minha Empresa");return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl bg-blue-600/20 text-blue-500",children:(0,a.jsx)(s.Z,{className:"h-8 w-8"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Configura\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Gerencie sua conta e as prefer\xeancias do sistema."})]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-6 backdrop-blur-sm",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-6",children:"Informa\xe7\xf5es da Conta"}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Nome da Empresa"}),(0,a.jsx)("input",{value:u,onChange:e=>h(e.target.value),className:"w-full rounded-lg bg-black/20 border border-white/10 p-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Email de Acesso"}),(0,a.jsx)("input",{disabled:!0,value:"admin@frplus.com",className:"w-full rounded-lg bg-black/40 border border-white/10 p-2.5 text-gray-500 cursor-not-allowed"})]})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{t("Configura\xe7\xf5es salvas!","success")},className:"flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500 transition-colors",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Salvar Perfil"]})})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 p-6 backdrop-blur-sm",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-red-500 mb-6",children:"\xc1rea de Risco"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-black/20 border border-white/5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-white",children:"Sair do Sistema"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Desconectar sua conta deste dispositivo."})]}),(0,a.jsxs)("button",{onClick:()=>{e(),r.push("/")},className:"flex items-center rounded-lg border border-white/10 px-4 py-2 text-sm font-medium text-white hover:bg-white/10 transition-colors",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Sair"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-black/20 border border-red-500/20",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-red-400",children:"Resetar Sistema"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Apaga todos os dados locais e reinicia o app como novo."})]}),(0,a.jsxs)("button",{onClick:()=>{confirm("ATEN\xc7\xc3O: Isso apagar\xe1 TODOS os dados (clientes, produtos, pedidos) e deslogar\xe1 voc\xea. Tem certeza?")&&(localStorage.clear(),e(),r.push("/"))},className:"flex items-center rounded-lg bg-red-600/10 px-4 py-2 text-sm font-medium text-red-500 hover:bg-red-600/20 transition-colors border border-red-500/20",children:[(0,a.jsx)(n.Z,{className:"mr-2 h-4 w-4"}),"Resetar Tudo"]})]})]})]})]})}},5590:function(e,t,r){"use strict";r.d(t,{F:function(){return p},e:function(){return m}});var a=r(3827),s=r(64090),o=r(46578),c=r(98998),n=r(28814),i=r(52235),l=r(28745),d=r(38371);function u(e){let{message:t,type:r,isVisible:u=!0,onClose:h}=e;return(0,s.useEffect)(()=>{if(u){let e=setTimeout(()=>{h()},3e3);return()=>clearTimeout(e)}},[u,h]),(0,a.jsx)(l.M,{children:u&&(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 rounded-xl border border-white/10 bg-black/80 px-4 py-3 text-sm text-white shadow-2xl backdrop-blur-md",children:[(0,a.jsxs)("div",{className:"rounded-full p-1 ".concat("success"===r?"bg-green-500/20 text-green-500":"error"===r?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"),children:["success"===r&&(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"error"===r&&(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"info"===r&&(0,a.jsx)(n.Z,{className:"h-4 w-4"})]}),(0,a.jsx)("span",{className:"font-medium pr-2",children:t}),(0,a.jsx)("button",{onClick:h,className:"ml-2 rounded-lg p-1 text-gray-400 hover:bg-white/10 hover:text-white transition-colors",children:(0,a.jsx)(i.Z,{className:"h-3 w-3"})})]})})}let h=(0,s.createContext)(void 0);function p(e){let{children:t}=e,[r,o]=(0,s.useState)([]),[c,n]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[d,p]=(0,s.useState)([]),[m,f]=(0,s.useState)(!0),[x,y]=(0,s.useState)(null),[b,g]=(0,s.useState)(null),j=(0,s.useCallback)((e,t)=>{g({message:e,type:t})},[]),w=(0,s.useCallback)(async()=>{f(!0);try{let[e,t,r,a]=await Promise.all([fetch("/api/clients"),fetch("/api/products"),fetch("/api/orders"),fetch("/api/fabricas")]);e.ok&&o(await e.json()),t.ok&&n(await t.json()),r.ok&&l(await r.json()),a.ok&&p(await a.json())}catch(e){console.error("Error fetching data:",e),j("Erro ao carregar dados","error")}finally{f(!1)}},[j]);(0,s.useEffect)(()=>{w();let e=localStorage.getItem("frplus_user");e&&y(e)},[w]);let v=async e=>{try{let t=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();o(t=>[...t,e]),j("Cliente cadastrado com sucesso!","success")}else j("Erro ao cadastrar cliente","error")}catch(e){console.error("Error adding client:",e),j("Erro ao cadastrar cliente","error")}},k=async(e,t)=>{try{let r=await fetch("/api/clients/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok){let t=await r.json();o(r=>r.map(r=>r.id===e?t:r)),j("Cliente atualizado com sucesso!","success")}}catch(e){console.error("Error updating client:",e),j("Erro ao atualizar cliente","error")}},E=async e=>{try{(await fetch("/api/clients/".concat(e),{method:"DELETE"})).ok&&(o(t=>t.filter(t=>t.id!==e)),j("Cliente exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing client:",e),j("Erro ao excluir cliente","error")}},N=async e=>{try{(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await w(),j("Produto cadastrado com sucesso!","success")):j("Erro ao cadastrar produto","error")}catch(e){console.error("Error adding product:",e),j("Erro ao cadastrar produto","error")}},C=async(e,t)=>{try{(await fetch("/api/products/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(await w(),j("Produto atualizado com sucesso!","success"))}catch(e){console.error("Error updating product:",e),j("Erro ao atualizar produto","error")}},S=async e=>{try{(await fetch("/api/products/".concat(e),{method:"DELETE"})).ok&&(n(t=>t.filter(t=>t.id!==e)),j("Produto exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing product:",e),j("Erro ao excluir produto","error")}},T=async e=>{try{(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await w(),j("Pedido cadastrado com sucesso!","success")):j("Erro ao cadastrar pedido","error")}catch(e){console.error("Error adding order:",e),j("Erro ao cadastrar pedido","error")}},P=async(e,t)=>{try{(await fetch("/api/orders/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(await w(),j("Pedido atualizado com sucesso!","success"))}catch(e){console.error("Error updating order:",e),j("Erro ao atualizar pedido","error")}},Z=async e=>{try{(await fetch("/api/orders/".concat(e),{method:"DELETE"})).ok&&(l(t=>t.filter(t=>t.id!==e)),j("Pedido exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing order:",e),j("Erro ao excluir pedido","error")}},O=async e=>{try{let t=await fetch("/api/fabricas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();p(t=>[...t,e]),j("F\xe1brica cadastrada com sucesso!","success")}}catch(e){console.error("Error adding fabrica:",e),j("Erro ao cadastrar f\xe1brica","error")}},z=async(e,t)=>{try{(await fetch("/api/fabricas/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(await w(),j("F\xe1brica atualizada com sucesso!","success"))}catch(e){console.error("Error updating fabrica:",e),j("Erro ao atualizar f\xe1brica","error")}},M=async e=>{try{(await fetch("/api/fabricas/".concat(e),{method:"DELETE"})).ok&&(p(t=>t.filter(t=>t.id!==e)),j("F\xe1brica exclu\xedda com sucesso!","success"))}catch(e){console.error("Error removing fabrica:",e),j("Erro ao excluir f\xe1brica","error")}};return(0,a.jsxs)(h.Provider,{value:{clients:r,products:c,orders:i,fabricas:d,loading:m,addClient:v,updateClient:k,removeClient:E,addProduct:N,updateProduct:C,removeProduct:S,addOrder:T,updateOrder:P,removeOrder:Z,addFabrica:O,updateFabrica:z,removeFabrica:M,getDashboardStats:()=>({totalSales:i.reduce((e,t)=>e+t.valorTotal,0),totalOrders:i.length,newClients:r.length,totalProducts:c.length}),showToast:j,user:x,login:e=>{y(e),localStorage.setItem("frplus_user",e)},logout:()=>{y(null),localStorage.removeItem("frplus_user")},refreshData:w},children:[t,b&&(0,a.jsx)(u,{message:b.message,type:b.type,onClose:()=>g(null)})]})}function m(){let e=(0,s.useContext)(h);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}},28745:function(e,t,r){"use strict";r.d(t,{M:function(){return y}});var a=r(3827),s=r(64090),o=r(53856),c=r(72435),n=r(24561),i=r(93449);class l extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:r}=e,o=(0,s.useId)(),c=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,s.useContext)(i._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:s}=n.current;if(r||!c.current||!e||!t)return;c.current.dataset.motionPopId=o;let i=document.createElement("style");return d&&(i.nonce=d),document.head.appendChild(i),i.sheet&&i.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(i)}},[r]),(0,a.jsx)(l,{isPresent:r,childRef:c,sizeRef:n,children:s.cloneElement(t,{ref:c})})}let u=e=>{let{children:t,initial:r,isPresent:o,onExitComplete:i,custom:l,presenceAffectsLayout:u,mode:p}=e,m=(0,c.h)(h),f=(0,s.useId)(),x=(0,s.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},[m,i]),y=(0,s.useMemo)(()=>({id:f,initial:r,isPresent:o,custom:l,onExitComplete:x,register:e=>(m.set(e,!1),()=>m.delete(e))}),u?[Math.random(),x]:[o,x]);return(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[o]),s.useEffect(()=>{o||m.size||!i||i()},[o]),"popLayout"===p&&(t=(0,a.jsx)(d,{isPresent:o,children:t})),(0,a.jsx)(n.O.Provider,{value:y,children:t})};function h(){return new Map}var p=r(53177);let m=e=>e.key||"";function f(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var x=r(45526);let y=e=>{let{children:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:d="sync",propagate:h=!1}=e,[y,b]=(0,p.oO)(h),g=(0,s.useMemo)(()=>f(t),[t]),j=h&&!y?[]:g.map(m),w=(0,s.useRef)(!0),v=(0,s.useRef)(g),k=(0,c.h)(()=>new Map),[E,N]=(0,s.useState)(g),[C,S]=(0,s.useState)(g);(0,x.L)(()=>{w.current=!1,v.current=g;for(let e=0;e<C.length;e++){let t=m(C[e]);j.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[C,j.length,j.join("-")]);let T=[];if(g!==E){let e=[...g];for(let t=0;t<C.length;t++){let r=C[t],a=m(r);j.includes(a)||(e.splice(t,0,r),T.push(r))}"wait"===d&&T.length&&(e=T),S(f(e)),N(g);return}let{forceRender:P}=(0,s.useContext)(o.p);return(0,a.jsx)(a.Fragment,{children:C.map(e=>{let t=m(e),s=(!h||!!y)&&(g===C||j.includes(t));return(0,a.jsx)(u,{isPresent:s,initial:(!w.current||!!n)&&void 0,custom:s?void 0:r,presenceAffectsLayout:l,mode:d,onExitComplete:s?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),S(v.current),h&&(null==b||b()),i&&i())},children:e},t)})})}}},function(e){e.O(0,[462,971,69,744],function(){return e(e.s=98515)}),_N_E=e.O()}]);