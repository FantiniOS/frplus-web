(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},69933:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>l});var a=t(50482),s=t(69108),o=t(62563),i=t.n(o),c=t(68300),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);t.d(r,n);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51136)),"E:\\FRPlus\\frplus-web\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,49342)),"E:\\FRPlus\\frplus-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["E:\\FRPlus\\frplus-web\\src\\app\\page.tsx"],u="/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},98161:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},45559:(e,r,t)=>{Promise.resolve().then(t.bind(t,87216))},55071:(e,r,t)=>{Promise.resolve().then(t.bind(t,15559))},18822:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},15559:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(95344),s=t(87292),o=t(42739),i=t(18822),c=t(69224);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,c.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),l=(0,c.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=t(89410),u=t(3729),p=t(85814),h=t(8428);function m(){let{login:e,usuario:r,loading:t}=(0,p.a)(),c=(0,h.useRouter)(),[m,x]=(0,u.useState)(""),[f,g]=(0,u.useState)(""),[b,y]=(0,u.useState)(!1),[w,v]=(0,u.useState)("");(0,u.useEffect)(()=>{r&&!t&&c.push("/dashboard")},[r,t,c]),(0,u.useEffect)(()=>{(async()=>{try{await fetch("/api/auth/seed",{method:"POST"})}catch{}})()},[]);let j=async r=>{r.preventDefault(),v(""),y(!0);let t=await e(m,f);t.success?c.push("/dashboard"):v(t.error||"Erro ao fazer login"),y(!1)};return t?a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-black",children:a.jsx(o.Z,{className:"h-8 w-8 animate-spin text-blue-500"})}):(0,a.jsxs)("div",{className:"relative flex min-h-screen flex-col items-center justify-center overflow-hidden bg-black",children:[a.jsx("div",{className:"absolute -top-[20%] -left-[10%] h-[500px] w-[500px] rounded-full bg-blue-600/20 blur-[100px]"}),a.jsx("div",{className:"absolute top-[40%] -right-[10%] h-[400px] w-[400px] rounded-full bg-purple-600/10 blur-[100px]"}),a.jsx(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"z-10 w-full max-w-md p-8",children:(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-8 shadow-2xl bg-white/5 border border-white/10 backdrop-blur-xl",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(d.default,{src:"/logo.png",alt:"Logo",width:64,height:64,className:"h-16 w-auto"})}),a.jsx("p",{className:"text-sm text-gray-400",children:"Acesse seu painel de intelig\xeancia comercial"})]}),w&&a.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:w}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:j,children:[(0,a.jsxs)("div",{className:"group relative",children:[a.jsx(i.Z,{className:"absolute left-3 top-3 h-5 w-5 text-gray-500 transition-colors group-focus-within:text-blue-500"}),a.jsx("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Usu\xe1rio ou Email",className:"w-full rounded-lg bg-black/40 border border-white/10 p-2.5 pl-10 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all"})]}),(0,a.jsxs)("div",{className:"group relative",children:[a.jsx(n,{className:"absolute left-3 top-3 h-5 w-5 text-gray-500 transition-colors group-focus-within:text-blue-500"}),a.jsx("input",{type:"password",value:f,onChange:e=>g(e.target.value),placeholder:"Sua senha",className:"w-full rounded-lg bg-black/40 border border-white/10 p-2.5 pl-10 text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all"})]}),a.jsx("button",{type:"submit",disabled:b,className:"group flex w-full items-center justify-center rounded-lg bg-blue-600 p-3 font-semibold text-white transition-all hover:bg-blue-500 hover:shadow-[0_0_20px_rgba(37,99,235,0.3)] disabled:opacity-50",children:b?a.jsx(o.Z,{className:"h-5 w-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Entrar no Sistema",a.jsx(l,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),a.jsx("div",{className:"mt-6 text-center space-y-3",children:a.jsx("p",{className:"text-xs text-gray-600",children:"Protegido por criptografia de ponta a ponta."})})]})})]})}},87216:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Providers:()=>i});var a=t(95344),s=t(85814),o=t(66137);function i({children:e}){return a.jsx(s.H,{children:a.jsx(o.F,{children:e})})}},85814:(e,r,t)=>{"use strict";t.d(r,{H:()=>c,a:()=>n});var a=t(95344),s=t(3729),o=t(8428);let i=(0,s.createContext)(null);function c({children:e}){let[r,t]=(0,s.useState)(null),[c,n]=(0,s.useState)(!0),l=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let r=await e.json();t(r.usuario)}}catch(e){console.error("Auth check failed:",e)}finally{n(!1)}})()},[]);let d=async(e,r)=>{try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,senha:r})}),s=await a.json();if(a.ok)return t(s.usuario),{success:!0};return{success:!1,error:s.error||"Erro ao fazer login"}}catch{return{success:!1,error:"Erro de conex\xe3o"}}},u=async()=>{try{await fetch("/api/auth/me",{method:"DELETE"})}catch(e){console.error("Logout error:",e)}finally{t(null),l.push("/")}};return a.jsx(i.Provider,{value:{usuario:r,loading:c,login:d,logout:u,isAdmin:r?.role==="admin"},children:e})}function n(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},66137:(e,r,t)=>{"use strict";t.d(r,{F:()=>h,e:()=>m});var a=t(95344),s=t(3729),o=t(7060),i=t(66138),c=t(91991),n=t(14513),l=t(99119),d=t(87292);function u({message:e,type:r,isVisible:t=!0,onClose:u}){return(0,s.useEffect)(()=>{if(t){let e=setTimeout(()=>{u()},3e3);return()=>clearTimeout(e)}},[t,u]),a.jsx(l.M,{children:t&&(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 rounded-xl border border-white/10 bg-black/80 px-4 py-3 text-sm text-white shadow-2xl backdrop-blur-md",children:[(0,a.jsxs)("div",{className:`rounded-full p-1 ${"success"===r?"bg-green-500/20 text-green-500":"error"===r?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"}`,children:["success"===r&&a.jsx(o.Z,{className:"h-4 w-4"}),"error"===r&&a.jsx(i.Z,{className:"h-4 w-4"}),"info"===r&&a.jsx(c.Z,{className:"h-4 w-4"})]}),a.jsx("span",{className:"font-medium pr-2",children:e}),a.jsx("button",{onClick:u,className:"ml-2 rounded-lg p-1 text-gray-400 hover:bg-white/10 hover:text-white transition-colors",children:a.jsx(n.Z,{className:"h-3 w-3"})})]})})}let p=(0,s.createContext)(void 0);function h({children:e}){let[r,t]=(0,s.useState)([]),[o,i]=(0,s.useState)([]),[c,n]=(0,s.useState)([]),[l,d]=(0,s.useState)([]),[h,m]=(0,s.useState)(!0),[x,f]=(0,s.useState)(null),[g,b]=(0,s.useState)(null),y=(0,s.useCallback)((e,r)=>{b({message:e,type:r})},[]),w=(0,s.useCallback)(async()=>{m(!0);try{let[e,r,a,s]=await Promise.all([fetch("/api/clients"),fetch("/api/products"),fetch("/api/orders"),fetch("/api/fabricas")]);e.ok&&t(await e.json()),r.ok&&i(await r.json()),a.ok&&n(await a.json()),s.ok&&d(await s.json())}catch(e){console.error("Error fetching data:",e),y("Erro ao carregar dados","error")}finally{m(!1)}},[y]);(0,s.useEffect)(()=>{w();let e=localStorage.getItem("frplus_user");e&&f(e)},[w]);let v=async e=>{try{let r=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();t(r=>[...r,e]),y("Cliente cadastrado com sucesso!","success")}else y("Erro ao cadastrar cliente","error")}catch(e){console.error("Error adding client:",e),y("Erro ao cadastrar cliente","error")}},j=async(e,r)=>{try{let a=await fetch(`/api/clients/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok){let r=await a.json();t(t=>t.map(t=>t.id===e?r:t)),y("Cliente atualizado com sucesso!","success")}}catch(e){console.error("Error updating client:",e),y("Erro ao atualizar cliente","error")}},E=async e=>{try{(await fetch(`/api/clients/${e}`,{method:"DELETE"})).ok&&(t(r=>r.filter(r=>r.id!==e)),y("Cliente exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing client:",e),y("Erro ao excluir cliente","error")}},P=async e=>{try{(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await w(),y("Produto cadastrado com sucesso!","success")):y("Erro ao cadastrar produto","error")}catch(e){console.error("Error adding product:",e),y("Erro ao cadastrar produto","error")}},N=async(e,r)=>{try{(await fetch(`/api/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await w(),y("Produto atualizado com sucesso!","success"))}catch(e){console.error("Error updating product:",e),y("Erro ao atualizar produto","error")}},k=async e=>{try{(await fetch(`/api/products/${e}`,{method:"DELETE"})).ok&&(i(r=>r.filter(r=>r.id!==e)),y("Produto exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing product:",e),y("Erro ao excluir produto","error")}},S=async e=>{try{(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await w(),y("Pedido cadastrado com sucesso!","success")):y("Erro ao cadastrar pedido","error")}catch(e){console.error("Error adding order:",e),y("Erro ao cadastrar pedido","error")}},T=async(e,r)=>{try{(await fetch(`/api/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await w(),y("Pedido atualizado com sucesso!","success"))}catch(e){console.error("Error updating order:",e),y("Erro ao atualizar pedido","error")}},C=async e=>{try{(await fetch(`/api/orders/${e}`,{method:"DELETE"})).ok&&(n(r=>r.filter(r=>r.id!==e)),y("Pedido exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing order:",e),y("Erro ao excluir pedido","error")}},_=async e=>{try{let r=await fetch("/api/fabricas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();d(r=>[...r,e]),y("F\xe1brica cadastrada com sucesso!","success")}}catch(e){console.error("Error adding fabrica:",e),y("Erro ao cadastrar f\xe1brica","error")}},O=async(e,r)=>{try{(await fetch(`/api/fabricas/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await w(),y("F\xe1brica atualizada com sucesso!","success"))}catch(e){console.error("Error updating fabrica:",e),y("Erro ao atualizar f\xe1brica","error")}},z=async e=>{try{(await fetch(`/api/fabricas/${e}`,{method:"DELETE"})).ok&&(d(r=>r.filter(r=>r.id!==e)),y("F\xe1brica exclu\xedda com sucesso!","success"))}catch(e){console.error("Error removing fabrica:",e),y("Erro ao excluir f\xe1brica","error")}};return(0,a.jsxs)(p.Provider,{value:{clients:r,products:o,orders:c,fabricas:l,loading:h,addClient:v,updateClient:j,removeClient:E,addProduct:P,updateProduct:N,removeProduct:k,addOrder:S,updateOrder:T,removeOrder:C,addFabrica:_,updateFabrica:O,removeFabrica:z,getDashboardStats:()=>({totalSales:c.reduce((e,r)=>e+r.valorTotal,0),totalOrders:c.length,newClients:r.length,totalProducts:o.length}),showToast:y,user:x,login:e=>{f(e),localStorage.setItem("frplus_user",e)},logout:()=>{f(null),localStorage.removeItem("frplus_user")},refreshData:w},children:[e,g&&a.jsx(u,{message:g.message,type:g.type,onClose:()=>b(null)})]})}function m(){let e=(0,s.useContext)(p);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}},49342:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var a=t(25036);t(5023);var s=t(86843);let o=(0,s.createProxy)(String.raw`E:\FRPlus\frplus-web\src\components\Providers.tsx`),{__esModule:i,$$typeof:c}=o;o.default;let n=(0,s.createProxy)(String.raw`E:\FRPlus\frplus-web\src\components\Providers.tsx#Providers`),l={title:"FRPlus - Sistema de Intelig\xeancia Comercial",description:"Gest\xe3o de Pedidos e Clientes"};function d({children:e}){return a.jsx("html",{lang:"pt-br",children:a.jsx("body",{className:"antialiased bg-black text-white h-screen w-screen selection:bg-blue-500 selection:text-white",children:a.jsx(n,{children:e})})})}},51136:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>s,default:()=>i});let a=(0,t(86843).createProxy)(String.raw`E:\FRPlus\frplus-web\src\app\page.tsx`),{__esModule:s,$$typeof:o}=a,i=a.default},5023:()=>{}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,995,9065],()=>t(69933));module.exports=a})();