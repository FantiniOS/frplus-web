"use strict";(()=>{var t={};t.id=4792,t.ids=[4792],t.modules={30517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},12781:t=>{t.exports=require("stream")},96589:(t,e,r)=>{r.r(e),r.d(e,{headerHooks:()=>t$,originalPathname:()=>tU,patchFetch:()=>tV,requestAsyncStorage:()=>tQ,routeModule:()=>tB,serverHooks:()=>tX,staticGenerationAsyncStorage:()=>tj,staticGenerationBailout:()=>tG});var a={};r.r(a),r.d(a,{POST:()=>tI});var n=r(95419),i=r(69108),s=r(99678),o=r(78070),u=r(38742),d=r.n(u),c=r(19631);let l={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function h(t){return (e={})=>{let r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}let m={date:h({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:h({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:h({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},p={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function f(t){return(e,r)=>{let a;if("formatting"===(r?.context?String(r.context):"standalone")&&t.formattingValues){let e=t.defaultFormattingWidth||t.defaultWidth,n=r?.width?String(r.width):e;a=t.formattingValues[n]||t.formattingValues[e]}else{let e=t.defaultWidth,n=r?.width?String(r.width):t.defaultWidth;a=t.values[n]||t.values[e]}return a[t.argumentCallback?t.argumentCallback(e):e]}}function w(t){return(e,r={})=>{let a;let n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;let o=s[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?function(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}(u,t=>t.test(o)):function(t,e){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}(u,t=>t.test(o));return a=t.valueCallback?t.valueCallback(d):d,{value:a=r.valueCallback?r.valueCallback(a):a,rest:e.slice(o.length)}}}let g={code:"en-US",formatDistance:(t,e,r)=>{let a;let n=l[t];return(a="string"==typeof n?n:1===e?n.one:n.other.replace("{{count}}",e.toString()),r?.addSuffix)?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:m,formatRelative:(t,e,r,a)=>p[t],localize:{ordinalNumber:(t,e)=>{let r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:f({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:f({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:f({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:f({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:f({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(t){return(e,r={})=>{let a=e.match(t.matchPattern);if(!a)return null;let n=a[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:e.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)}),era:w({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:w({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},y=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},b=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},x={p:b,P:(t,e)=>{let r;let a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return y(t,e);switch(n){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",y(n,e)).replace("{{time}}",b(i,e))}},v=/^D+$/,k=/^Y+$/,T=["D","DD","YY","YYYY"];function D(t,e,r){let a=function(t,e,r){let a="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,r);if(console.warn(a),T.includes(t))throw RangeError(a)}let P=Symbol.for("constructDateFrom");function M(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&P in t?t[P](e):t instanceof Date?new t.constructor(e):new Date(e)}let S={};function q(t,e){return M(e||t,t)}class Y{validate(t,e){return!0}constructor(){this.subPriority=0}}class H extends Y{constructor(t,e,r,a,n){super(),this.value=t,this.validateValue=e,this.setValue=r,this.priority=a,n&&(this.subPriority=n)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,r){return this.setValue(t,e,this.value,r)}}class C extends Y{constructor(t,e){super(),this.priority=10,this.subPriority=-1,this.context=t||(t=>M(e,t))}set(t,e){return e.timestampIsSet?t:M(t,function(t,e){let r="function"==typeof e&&e.prototype?.constructor===e?new e(0):M(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}(t,this.context))}}class E{run(t,e,r,a){let n=this.parse(t,e,r,a);return n?{setter:new H(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}validate(t,e,r){return!0}}class N extends E{parse(t,e,r){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,e,r){return e.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=140,this.incompatibleTokens=["R","u","t","T"]}}let W={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},F={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function O(t,e){return t?{value:e(t.value),rest:t.rest}:t}function _(t,e){let r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function L(t,e){let r=e.match(t);if(!r)return null;if("Z"===r[0])return{value:0,rest:e.slice(1)};let a="+"===r[1]?1:-1;return{value:a*(36e5*(r[2]?parseInt(r[2],10):0)+6e4*(r[3]?parseInt(r[3],10):0)+(r[5]?parseInt(r[5],10):0)*1e3),rest:e.slice(r[0].length)}}function R(t){return _(W.anyDigitsSigned,t)}function A(t,e){switch(t){case 1:return _(W.singleDigit,e);case 2:return _(W.twoDigits,e);case 3:return _(W.threeDigits,e);case 4:return _(W.fourDigits,e);default:return _(RegExp("^\\d{1,"+t+"}"),e)}}function I(t,e){switch(t){case 1:return _(W.singleDigitSigned,e);case 2:return _(W.twoDigitsSigned,e);case 3:return _(W.threeDigitsSigned,e);case 4:return _(W.fourDigitsSigned,e);default:return _(RegExp("^-?\\d{1,"+t+"}"),e)}}function B(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Q(t,e){let r;let a=e>0,n=a?e:1-e;if(n<=50)r=t||100;else{let e=n+50;r=t+100*Math.trunc(e/100)-(t>=e%100?100:0)}return a?r:1-r}function j(t){return t%400==0||t%4==0&&t%100!=0}class X extends E{parse(t,e,r){let a=t=>({year:t,isTwoDigitYear:"yy"===e});switch(e){case"y":return O(A(4,t),a);case"yo":return O(r.ordinalNumber(t,{unit:"year"}),a);default:return O(A(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r){let a=t.getFullYear();if(r.isTwoDigitYear){let e=Q(r.year,a);return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}let n="era"in e&&1!==e.era?1-r.year:r.year;return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=130,this.incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"]}}function $(t,e){let r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??S.weekStartsOn??S.locale?.options?.weekStartsOn??0,a=q(t,e?.in),n=a.getDay();return a.setDate(a.getDate()-((n<r?7:0)+n-r)),a.setHours(0,0,0,0),a}function G(t,e){let r=q(t,e?.in),a=r.getFullYear(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??S.firstWeekContainsDate??S.locale?.options?.firstWeekContainsDate??1,i=M(e?.in||t,0);i.setFullYear(a+1,0,n),i.setHours(0,0,0,0);let s=$(i,e),o=M(e?.in||t,0);o.setFullYear(a,0,n),o.setHours(0,0,0,0);let u=$(o,e);return+r>=+s?a+1:+r>=+u?a:a-1}class U extends E{parse(t,e,r){let a=t=>({year:t,isTwoDigitYear:"YY"===e});switch(e){case"Y":return O(A(4,t),a);case"Yo":return O(r.ordinalNumber(t,{unit:"year"}),a);default:return O(A(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r,a){let n=G(t,a);if(r.isTwoDigitYear){let e=Q(r.year,n);return t.setFullYear(e,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),$(t,a)}let i="era"in e&&1!==e.era?1-r.year:r.year;return t.setFullYear(i,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),$(t,a)}constructor(...t){super(...t),this.priority=130,this.incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}}function V(t,e){return $(t,{...e,weekStartsOn:1})}class z extends E{parse(t,e){return"R"===e?I(4,t):I(e.length,t)}set(t,e,r){let a=M(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),V(a)}constructor(...t){super(...t),this.priority=130,this.incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}}class Z extends E{parse(t,e){return"u"===e?I(4,t):I(e.length,t)}set(t,e,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=130,this.incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}}class J extends E{parse(t,e,r){switch(e){case"Q":case"QQ":return A(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=120,this.incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}}class K extends E{parse(t,e,r){switch(e){case"q":case"qq":return A(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=120,this.incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}}class tt extends E{parse(t,e,r){let a=t=>t-1;switch(e){case"M":return O(_(W.month,t),a);case"MM":return O(A(2,t),a);case"Mo":return O(r.ordinalNumber(t,{unit:"month"}),a);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"],this.priority=110}}class te extends E{parse(t,e,r){let a=t=>t-1;switch(e){case"L":return O(_(W.month,t),a);case"LL":return O(A(2,t),a);case"Lo":return O(r.ordinalNumber(t,{unit:"month"}),a);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=110,this.incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}}class tr extends E{parse(t,e,r){switch(e){case"w":return _(W.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return A(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r,a){return $(function(t,e,r){let a=q(t,r?.in),n=function(t,e){let r=q(t,e?.in);return Math.round((+$(r,e)-+function(t,e){let r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??S.firstWeekContainsDate??S.locale?.options?.firstWeekContainsDate??1,a=G(t,e),n=M(e?.in||t,0);return n.setFullYear(a,0,r),n.setHours(0,0,0,0),$(n,e)}(r,e))/6048e5)+1}(a,r)-e;return a.setDate(a.getDate()-7*n),q(a,r?.in)}(t,r,a),a)}constructor(...t){super(...t),this.priority=100,this.incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}}class ta extends E{parse(t,e,r){switch(e){case"I":return _(W.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return A(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r){return V(function(t,e,r){let a=q(t,r?.in),n=function(t,e){let r=q(t,e?.in);return Math.round((+V(r)-+function(t,e){let r=function(t,e){let r=q(t,e?.in),a=r.getFullYear(),n=M(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);let i=V(n),s=M(r,0);s.setFullYear(a,0,4),s.setHours(0,0,0,0);let o=V(s);return r.getTime()>=i.getTime()?a+1:r.getTime()>=o.getTime()?a:a-1}(t,e),a=M(e?.in||t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),V(a)}(r))/6048e5)+1}(a,r)-e;return a.setDate(a.getDate()-7*n),a}(t,r))}constructor(...t){super(...t),this.priority=100,this.incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}}let tn=[31,28,31,30,31,30,31,31,30,31,30,31],ti=[31,29,31,30,31,30,31,31,30,31,30,31];class ts extends E{parse(t,e,r){switch(e){case"d":return _(W.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return A(e.length,t)}}validate(t,e){let r=j(t.getFullYear()),a=t.getMonth();return r?e>=1&&e<=ti[a]:e>=1&&e<=tn[a]}set(t,e,r){return t.setDate(r),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.subPriority=1,this.incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}}class to extends E{parse(t,e,r){switch(e){case"D":case"DD":return _(W.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return A(e.length,t)}}validate(t,e){return j(t.getFullYear())?e>=1&&e<=366:e>=1&&e<=365}set(t,e,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.subpriority=1,this.incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}}function tu(t,e,r){let a=q(t,r?.in);return isNaN(e)?M(r?.in||t,NaN):(e&&a.setDate(a.getDate()+e),a)}function td(t,e,r){let a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??S.weekStartsOn??S.locale?.options?.weekStartsOn??0,n=q(t,r?.in),i=n.getDay(),s=7-a;return tu(n,e<0||e>6?e-(i+s)%7:((e%7+7)%7+s)%7-(i+s)%7,r)}class tc extends E{parse(t,e,r){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,a){return(t=td(t,r,a)).setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.incompatibleTokens=["D","i","e","c","t","T"]}}class tl extends E{parse(t,e,r,a){let n=t=>(t+a.weekStartsOn+6)%7+7*Math.floor((t-1)/7);switch(e){case"e":case"ee":return O(A(e.length,t),n);case"eo":return O(r.ordinalNumber(t,{unit:"day"}),n);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,a){return(t=td(t,r,a)).setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}}class th extends E{parse(t,e,r,a){let n=t=>(t+a.weekStartsOn+6)%7+7*Math.floor((t-1)/7);switch(e){case"c":case"cc":return O(A(e.length,t),n);case"co":return O(r.ordinalNumber(t,{unit:"day"}),n);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,a){return(t=td(t,r,a)).setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}}class tm extends E{parse(t,e,r){let a=t=>0===t?7:t;switch(e){case"i":case"ii":return A(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return O(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return O(r.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return O(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a);default:return O(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,e){return e>=1&&e<=7}set(t,e,r){return(t=function(t,e,r){let a=q(t,r?.in),n=function(t,e){let r=q(t,e?.in).getDay();return 0===r?7:r}(a,r);return tu(a,e-n,r)}(t,r)).setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=90,this.incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}}class tp extends E{parse(t,e,r){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(B(r),0,0,0),t}constructor(...t){super(...t),this.priority=80,this.incompatibleTokens=["b","B","H","k","t","T"]}}class tf extends E{parse(t,e,r){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(B(r),0,0,0),t}constructor(...t){super(...t),this.priority=80,this.incompatibleTokens=["a","B","H","k","t","T"]}}class tw extends E{parse(t,e,r){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(B(r),0,0,0),t}constructor(...t){super(...t),this.priority=80,this.incompatibleTokens=["a","b","t","T"]}}class tg extends E{parse(t,e,r){switch(e){case"h":return _(W.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return A(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,r){let a=t.getHours()>=12;return a&&r<12?t.setHours(r+12,0,0,0):a||12!==r?t.setHours(r,0,0,0):t.setHours(0,0,0,0),t}constructor(...t){super(...t),this.priority=70,this.incompatibleTokens=["H","K","k","t","T"]}}class ty extends E{parse(t,e,r){switch(e){case"H":return _(W.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return A(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,r){return t.setHours(r,0,0,0),t}constructor(...t){super(...t),this.priority=70,this.incompatibleTokens=["a","b","h","K","k","t","T"]}}class tb extends E{parse(t,e,r){switch(e){case"K":return _(W.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return A(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}constructor(...t){super(...t),this.priority=70,this.incompatibleTokens=["h","H","k","t","T"]}}class tx extends E{parse(t,e,r){switch(e){case"k":return _(W.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return A(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,r){return t.setHours(r<=24?r%24:r,0,0,0),t}constructor(...t){super(...t),this.priority=70,this.incompatibleTokens=["a","b","h","H","K","t","T"]}}class tv extends E{parse(t,e,r){switch(e){case"m":return _(W.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return A(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setMinutes(r,0,0),t}constructor(...t){super(...t),this.priority=60,this.incompatibleTokens=["t","T"]}}class tk extends E{parse(t,e,r){switch(e){case"s":return _(W.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return A(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setSeconds(r,0),t}constructor(...t){super(...t),this.priority=50,this.incompatibleTokens=["t","T"]}}class tT extends E{parse(t,e){return O(A(e.length,t),t=>Math.trunc(t*Math.pow(10,-e.length+3)))}set(t,e,r){return t.setMilliseconds(r),t}constructor(...t){super(...t),this.priority=30,this.incompatibleTokens=["t","T"]}}function tD(t){let e=q(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}class tP extends E{parse(t,e){switch(e){case"X":return L(F.basicOptionalMinutes,t);case"XX":return L(F.basic,t);case"XXXX":return L(F.basicOptionalSeconds,t);case"XXXXX":return L(F.extendedOptionalSeconds,t);default:return L(F.extended,t)}}set(t,e,r){return e.timestampIsSet?t:M(t,t.getTime()-tD(t)-r)}constructor(...t){super(...t),this.priority=10,this.incompatibleTokens=["t","T","x"]}}class tM extends E{parse(t,e){switch(e){case"x":return L(F.basicOptionalMinutes,t);case"xx":return L(F.basic,t);case"xxxx":return L(F.basicOptionalSeconds,t);case"xxxxx":return L(F.extendedOptionalSeconds,t);default:return L(F.extended,t)}}set(t,e,r){return e.timestampIsSet?t:M(t,t.getTime()-tD(t)-r)}constructor(...t){super(...t),this.priority=10,this.incompatibleTokens=["t","T","X"]}}class tS extends E{parse(t){return R(t)}set(t,e,r){return[M(t,1e3*r),{timestampIsSet:!0}]}constructor(...t){super(...t),this.priority=40,this.incompatibleTokens="*"}}class tq extends E{parse(t){return R(t)}set(t,e,r){return[M(t,r),{timestampIsSet:!0}]}constructor(...t){super(...t),this.priority=20,this.incompatibleTokens="*"}}let tY={G:new N,y:new X,Y:new U,R:new z,u:new Z,Q:new J,q:new K,M:new tt,L:new te,w:new tr,I:new ta,d:new ts,D:new to,E:new tc,e:new tl,c:new th,i:new tm,a:new tp,b:new tf,B:new tw,h:new tg,H:new ty,K:new tb,k:new tx,m:new tv,s:new tk,S:new tT,X:new tP,x:new tM,t:new tS,T:new tq},tH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tE=/^'([^]*?)'?$/,tN=/''/g,tW=/\S/,tF=/[a-zA-Z]/;var tO=r(12781);let t_=t=>t.replace(/\D/g,""),tL=t=>t?parseFloat(t.replace(/\./g,"").replace(",",".")):0,tR=t=>{if(!t)return new Date;try{return function(t,e,r,a){let n=()=>M(a?.in||r,NaN),i=Object.assign({},S),s=a?.locale??i.locale??g,o=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!e)return t?n():q(r,a?.in);let d={firstWeekContainsDate:o,weekStartsOn:u,locale:s},c=[new C(a?.in,r)],l=e.match(tC).map(t=>{let e=t[0];return e in x?(0,x[e])(t,s.formatLong):t}).join("").match(tH),h=[];for(let r of l){var m,p;!a?.useAdditionalWeekYearTokens&&(m=r,k.test(m))&&D(r,e,t),!a?.useAdditionalDayOfYearTokens&&(p=r,v.test(p))&&D(r,e,t);let i=r[0],o=tY[i];if(o){let{incompatibleTokens:e}=o;if(Array.isArray(e)){let t=h.find(t=>e.includes(t.token)||t.token===i);if(t)throw RangeError(`The format string mustn't contain \`${t.fullToken}\` and \`${r}\` at the same time`)}else if("*"===o.incompatibleTokens&&h.length>0)throw RangeError(`The format string mustn't contain \`${r}\` and any other token at the same time`);h.push({token:i,fullToken:r});let a=o.run(t,r,s.match,d);if(!a)return n();c.push(a.setter),t=a.rest}else{if(i.match(tF))throw RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===r?r="'":"'"===i&&(r=r.match(tE)[1].replace(tN,"'")),0!==t.indexOf(r))return n();t=t.slice(r.length)}}if(t.length>0&&tW.test(t))return n();let f=c.map(t=>t.priority).sort((t,e)=>e-t).filter((t,e,r)=>r.indexOf(t)===e).map(t=>c.filter(e=>e.priority===t).sort((t,e)=>e.subPriority-t.subPriority)).map(t=>t[0]),w=q(r,a?.in);if(isNaN(+w))return n();let y={};for(let t of f){if(!t.validate(w,d))return n();let e=t.set(w,y,d);Array.isArray(e)?(w=e[0],Object.assign(y,e[1])):w=e}return w}(t,"dd/MM/yyyy",new Date)}catch{return new Date}};async function tA(t){let e=[],r=tO.Readable.from(t);return new Promise((t,a)=>{r.pipe(d()({separator:";",skipLines:2,headers:["Filial","Numero","DT_Emissao","Cliente","Loja","Nome_Cliente","Tipo_Pedido","Nota_Fiscal","Serie","Vendedor_1","Nome_Vendedor","Cond_Pagto","Descricao_Pagto","Desconto_1","DT_Emissao_Fat","Status","Produto","Descricao_Produto","Unidade","Quantidade","Prc_Unitario","Vlr_Total"]})).on("headers",t=>console.log("Parsed Headers:",t)).on("data",t=>e.push(t)).on("end",async()=>{try{let r={clientsNew:0,clientsUpdated:0,productsNew:0,productsUpdated:0,ordersCreated:0,ordersSkipped:0,errors:[]},a=await c._.fabrica.findFirst({where:{nome:"Importa\xe7\xe3o"}});a||(a=await c._.fabrica.create({data:{nome:"Importa\xe7\xe3o"}}));let n=new Map;for(let t of e){let e=t_(t.Cliente||"");e&&!n.has(e)&&n.set(e,{cnpj:e,razaoSocial:t.Nome_Cliente||"Cliente Importado"})}let i=new Map;for(let t of e){let e=t.Produto,r=t.Descricao_Produto;e&&!i.has(e)&&i.set(e,{code:e,name:r||`Produto ${e}`,price:tL(t.Prc_Unitario)})}await c._.$transaction(async t=>{for(let e of Array.from(n.values())){let a=await t.cliente.findUnique({where:{cnpj:e.cnpj}});a?(await t.cliente.update({where:{id:a.id},data:{razaoSocial:e.razaoSocial,nomeFantasia:e.razaoSocial,updatedAt:new Date}}),r.clientsUpdated++):(await t.cliente.create({data:{razaoSocial:e.razaoSocial,nomeFantasia:e.razaoSocial,cnpj:e.cnpj,email:"importado@sistema.com",telefone:"",celular:"",endereco:"",bairro:"",cidade:"",estado:"",cep:""}}),r.clientsNew++)}for(let e of Array.from(i.values())){let n=await t.produto.findFirst({where:{codigo:e.code}});n?(await t.produto.update({where:{id:n.id},data:{updatedAt:new Date}}),r.productsUpdated++):(await t.produto.create({data:{codigo:e.code,nome:e.name,fabricaId:a.id,precoAtacado:e.price,preco50a199:e.price,preco200a699:e.price,precoAtacadoAVista:e.price,precoRedes:e.price}}),r.productsNew++)}});let s=new Map;for(let t of e){let e=t.Numero;e&&(s.has(e)||s.set(e,[]),s.get(e)?.push(t))}for(let[t,e]of Array.from(s.entries())){let n=e[0],i=t_(n.Cliente);if(await c._.pedido.findUnique({where:{id:t}})){r.ordersSkipped++;continue}let s=await c._.cliente.findUnique({where:{cnpj:i}});if(!s){r.errors.push(`Pedido ${t}: Cliente ${i} n\xe3o encontrado.`);continue}let o=[],u=0;for(let t of e){let e=t.Produto,r=await c._.produto.findFirst({where:{codigo:e}});if(r){let e=parseFloat(t.Quantidade.replace(",","."))||0,a=tL(t.Prc_Unitario);0===a&&(a=Number(r.precoAtacado)||0);let n=tL(t["Vlr.Total"])||a*e;u+=n,o.push({produtoId:r.id,quantidade:Math.round(e),precoUnitario:a,total:n})}}if(o.length>0)try{await c._.pedido.create({data:{id:t,clienteId:s.id,fabricaId:a.id,status:"Concluido",valorTotal:u,tabelaPreco:"atacado",condicaoPagamento:n["Cond. Pagto"]||"Importado",observacoes:`Importado em ${new Date().toLocaleDateString()}`,data:tR(n.DT_Emissao),itens:{create:o}}}),r.ordersCreated++}catch(e){console.error(e),r.errors.push(`Erro ao criar Pedido ${t}: ${e}`)}}t(r)}catch(t){a(t)}})})}async function tI(t){try{let e=(await t.formData()).get("file");if(!e)return o.Z.json({error:"No file uploaded"},{status:400});let r=Buffer.from(await e.arrayBuffer()),a=await tA(r);return o.Z.json({success:!0,stats:a})}catch(t){return console.error("CSV Import Error:",t),o.Z.json({error:"Import failed",details:String(t)},{status:500})}}let tB=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/import/csv/route",pathname:"/api/import/csv",filename:"route",bundlePath:"app/api/import/csv/route"},resolvedPagePath:"E:\\FRPlus\\frplus-web\\src\\app\\api\\import\\csv\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:tQ,staticGenerationAsyncStorage:tj,serverHooks:tX,headerHooks:t$,staticGenerationBailout:tG}=tB,tU="/api/import/csv/route";function tV(){return(0,s.patchFetch)({serverHooks:tX,staticGenerationAsyncStorage:tj})}},38742:(t,e,r)=>{let{Transform:a}=r(12781),[n]=Buffer.from("\r"),[i]=Buffer.from("\n"),s={escape:'"',headers:null,mapHeaders:({header:t})=>t,mapValues:({value:t})=>t,newline:"\n",quote:'"',raw:!1,separator:",",skipComments:!1,skipLines:null,maxRowBytes:Number.MAX_SAFE_INTEGER,strict:!1,outputByteOffset:!1};class o extends a{constructor(t={}){super({objectMode:!0,highWaterMark:16}),Array.isArray(t)&&(t={headers:t});let e=Object.assign({},s,t);for(let t of(e.customNewline=e.newline!==s.newline,["newline","quote","separator"]))void 0!==e[t]&&([e[t]]=Buffer.from(e[t]));e.escape=(t||{}).escape?Buffer.from(e.escape)[0]:e.quote,this.state={empty:e.raw?Buffer.alloc(0):"",escaped:!1,first:!0,lineNumber:0,previousEnd:0,rowLength:0,quoted:!1},this._prev=null,!1===e.headers&&(e.strict=!1),(e.headers||!1===e.headers)&&(this.state.first=!1),this.options=e,this.headers=e.headers,this.bytesRead=0}parseCell(t,e,r){let{escape:a,quote:n}=this.options;t[e]===n&&t[r-1]===n&&(e++,r--);let i=e;for(let s=e;s<r;s++)t[s]===a&&s+1<r&&t[s+1]===n&&s++,i!==s&&(t[i]=t[s]),i++;return this.parseValue(t,e,i)}parseLine(t,e,r){let{customNewline:a,escape:i,mapHeaders:s,mapValues:o,quote:u,separator:d,skipComments:c,skipLines:l}=this.options;r--,!a&&t.length&&t[r-1]===n&&r--;let h=[],m=!1,p=e;if(c&&t[e]===Buffer.from("string"==typeof c?c:"#")[0])return;let f=t=>{if(this.state.first)return t;let e=h.length;return o({header:this.headers[e],index:e,value:t})};for(let a=e;a<r;a++){let e=!m&&t[a]===u,n=m&&t[a]===u&&a+1<=r&&t[a+1]===d,s=m&&t[a]===i&&a+1<r&&t[a+1]===u;if(e||n){m=!m;continue}if(s){a++;continue}if(t[a]===d&&!m){let e=this.parseCell(t,p,a);e=f(e),h.push(e),p=a+1}}if(p<r){let e=this.parseCell(t,p,r);e=f(e),h.push(e)}t[r-1]===d&&h.push(f(this.state.empty));let w=l&&l>this.state.lineNumber;if(this.state.lineNumber++,this.state.first&&!w){this.state.first=!1,this.headers=h.map((t,e)=>s({header:t,index:e})),this.emit("headers",this.headers);return}if(!w&&this.options.strict&&h.length!==this.headers.length){let t=RangeError("Row length does not match headers");this.emit("error",t)}else if(!w){let r=this.bytesRead-t.length+e;this.writeRow(h,r)}}parseValue(t,e,r){return this.options.raw?t.slice(e,r):t.toString("utf-8",e,r)}writeRow(t,e){let r=!1===this.headers?t.map((t,e)=>e):this.headers,a=t.reduce((t,e,a)=>{let n=r[a];return null===n||(void 0!==n?t[n]=e:t[`_${a}`]=e),t},{});this.options.outputByteOffset?this.push({row:a,byteOffset:e}):this.push(a)}_flush(t){if(this.state.escaped||!this._prev)return t();this.parseLine(this._prev,this.state.previousEnd,this._prev.length+1),t()}_transform(t,e,r){"string"==typeof t&&(t=Buffer.from(t));let{escape:a,quote:s}=this.options,o=0,u=t;this.bytesRead+=t.byteLength,this._prev&&(o=this._prev.length,u=Buffer.concat([this._prev,t]),this._prev=null);let d=u.length;for(let t=o;t<d;t++){let e=u[t],c=t+1<d?u[t+1]:null;if(this.state.rowLength++,this.state.rowLength>this.options.maxRowBytes)return r(Error("Row exceeds the maximum size"));if(this.state.escaped||e!==a||c!==s||t===o){if(e===s){this.state.escaped?this.state.escaped=!1:this.state.quoted=!this.state.quoted;continue}}else{this.state.escaped=!0;continue}this.state.quoted||(this.state.first&&!this.options.customNewline&&(e===i?this.options.newline=i:e===n&&c!==i&&(this.options.newline=n)),e!==this.options.newline||(this.parseLine(u,this.state.previousEnd,t+1),this.state.previousEnd=t+1,this.state.rowLength=0))}return this.state.previousEnd===d?(this.state.previousEnd=0,r()):d-this.state.previousEnd<t.length?(this._prev=t,this.state.previousEnd-=d-t.length,r()):void(this._prev=u,r())}}t.exports=t=>new o(t)},19631:(t,e,r)=>{r.d(e,{_:()=>n});let a=require("@prisma/client"),n=globalThis.prisma??new a.PrismaClient}};var e=require("../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[1638,6206],()=>r(96589));module.exports=a})();