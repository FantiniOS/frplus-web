"use strict";(()=>{var e={};e.id=3898,e.ids=[3898],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},37573:(e,r,o)=>{o.r(r),o.d(r,{headerHooks:()=>h,originalPathname:()=>A,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>b});var t={};o.r(t),o.d(t,{DELETE:()=>p,GET:()=>n,PUT:()=>s});var a=o(95419),c=o(69108),i=o(99678),d=o(19631),u=o(78070);async function n(e,{params:r}){try{let e=await d._.produto.findUnique({where:{id:r.id},include:{fabrica:!0}});if(!e)return u.Z.json({error:"Product not found"},{status:404});return u.Z.json({id:e.id,codigo:e.codigo,nome:e.nome,preco50a199:Number(e.preco50a199),preco200a699:Number(e.preco200a699),precoAtacado:Number(e.precoAtacado),precoAtacadoAVista:Number(e.precoAtacadoAVista),precoRedes:Number(e.precoRedes),imagem:e.imagem,fabricaId:e.fabricaId,fabricaNome:e.fabrica.nome,categoria:e.categoria||"Geral"})}catch(e){return console.error("Error fetching product:",e),u.Z.json({error:"Failed to fetch product"},{status:500})}}async function s(e,{params:r}){try{let o=await e.json(),t=await d._.produto.update({where:{id:r.id},data:{codigo:o.codigo,nome:o.nome,preco50a199:o.preco50a199,preco200a699:o.preco200a699,precoAtacado:o.precoAtacado,precoAtacadoAVista:o.precoAtacadoAVista,precoRedes:o.precoRedes,imagem:o.imagem,fabricaId:o.fabricaId,categoria:o.categoria}});return u.Z.json(t)}catch(e){return console.error("Error updating product:",e),u.Z.json({error:"Failed to update product"},{status:500})}}async function p(e,{params:r}){try{return await d._.produto.delete({where:{id:r.id}}),u.Z.json({success:!0})}catch(e){return console.error("Error deleting product:",e),u.Z.json({error:"Failed to delete product"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:c.x.APP_ROUTE,page:"/api/products/[id]/route",pathname:"/api/products/[id]",filename:"route",bundlePath:"app/api/products/[id]/route"},resolvedPagePath:"E:\\FRPlus\\frplus-web\\src\\app\\api\\products\\[id]\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:h,staticGenerationBailout:b}=l,A="/api/products/[id]/route";function w(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},19631:(e,r,o)=>{o.d(r,{_:()=>a});let t=require("@prisma/client"),a=globalThis.prisma??new t.PrismaClient}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[1638,6206],()=>o(37573));module.exports=t})();