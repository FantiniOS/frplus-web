"use strict";(()=>{var e={};e.id=9684,e.ids=[9684],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39351:(e,r,a)=>{a.r(r),a.d(r,{headerHooks:()=>b,originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>m,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>A});var o={};a.r(o),a.d(o,{GET:()=>p,POST:()=>u,dynamic:()=>n});var t=a(95419),c=a(69108),i=a(99678),s=a(19631),d=a(78070);let n="force-dynamic";async function p(){try{let e=(await s._.produto.findMany({include:{fabrica:!0},orderBy:{nome:"asc"}})).map(e=>({id:e.id,codigo:e.codigo,nome:e.nome,preco50a199:Number(e.preco50a199),preco200a699:Number(e.preco200a699),precoAtacado:Number(e.precoAtacado),precoAtacadoAVista:Number(e.precoAtacadoAVista),precoRedes:Number(e.precoRedes),imagem:e.imagem,fabricaId:e.fabricaId,fabricaNome:e.fabrica.nome,categoria:e.categoria||"Geral"}));return d.Z.json(e)}catch(e){return console.error("Error fetching products:",e),d.Z.json({error:"Failed to fetch products"},{status:500})}}async function u(e){try{let r=await e.json(),a=await s._.produto.create({data:{codigo:r.codigo,nome:r.nome,preco50a199:r.preco50a199,preco200a699:r.preco200a699,precoAtacado:r.precoAtacado,precoAtacadoAVista:r.precoAtacadoAVista,precoRedes:r.precoRedes,imagem:r.imagem,fabricaId:r.fabricaId,categoria:r.categoria}});return d.Z.json(a,{status:201})}catch(e){return console.error("Error creating product:",e),d.Z.json({error:"Failed to create product"},{status:500})}}let m=new t.AppRouteRouteModule({definition:{kind:c.x.APP_ROUTE,page:"/api/products/route",pathname:"/api/products",filename:"route",bundlePath:"app/api/products/route"},resolvedPagePath:"E:\\FRPlus\\frplus-web\\src\\app\\api\\products\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:f,headerHooks:b,staticGenerationBailout:A}=m,h="/api/products/route";function y(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},19631:(e,r,a)=>{a.d(r,{_:()=>t});let o=require("@prisma/client"),t=globalThis.prisma??new o.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),o=r.X(0,[1638,6206],()=>a(39351));module.exports=o})();