"use strict";(()=>{var e={};e.id=4155,e.ids=[4155],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92121:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>y,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>b});var a={};t.r(a),t.d(a,{GET:()=>u,POST:()=>p});var o=t(95419),n=t(69108),i=t(99678),s=t(19631),c=t(78070);async function u(){try{let e=(await s._.fabrica.findMany({orderBy:{nome:"asc"},include:{_count:{select:{produtos:!0}}}})).map(e=>({id:e.id,nome:e.nome,produtosCount:e._count.produtos}));return c.Z.json(e)}catch(e){return console.error("Error fetching factories:",e),c.Z.json({error:"Failed to fetch factories"},{status:500})}}async function p(e){try{let r=await e.json(),t=await s._.fabrica.create({data:{nome:r.nome}});return c.Z.json(t,{status:201})}catch(e){return console.error("Error creating factory:",e),c.Z.json({error:"Failed to create factory"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/fabricas/route",pathname:"/api/fabricas",filename:"route",bundlePath:"app/api/fabricas/route"},resolvedPagePath:"E:\\FRPlus\\frplus-web\\src\\app\\api\\fabricas\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:f,serverHooks:m,headerHooks:h,staticGenerationBailout:b}=d,y="/api/fabricas/route";function g(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},19631:(e,r,t)=>{t.d(r,{_:()=>o});let a=require("@prisma/client"),o=globalThis.prisma??new a.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206],()=>t(92121));module.exports=a})();