exports.id=9060,exports.ids=[9060],exports.modules={98161:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},45559:(e,r,t)=>{Promise.resolve().then(t.bind(t,87216))},87216:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Providers:()=>c});var o=t(95344),a=t(85814),s=t(66137);function c({children:e}){return o.jsx(a.H,{children:o.jsx(s.F,{children:e})})}},85814:(e,r,t)=>{"use strict";t.d(r,{H:()=>i,a:()=>n});var o=t(95344),a=t(3729),s=t(8428);let c=(0,a.createContext)(null);function i({children:e}){let[r,t]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0),l=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let r=await e.json();t(r.usuario)}}catch(e){console.error("Auth check failed:",e)}finally{n(!1)}})()},[]);let d=async(e,r)=>{try{let o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:e,senha:r})}),a=await o.json();if(o.ok)return t(a.usuario),{success:!0};return{success:!1,error:a.error||"Erro ao fazer login"}}catch{return{success:!1,error:"Erro de conex\xe3o"}}},u=async()=>{try{await fetch("/api/auth/me",{method:"DELETE"})}catch(e){console.error("Logout error:",e)}finally{t(null),l.push("/")}};return o.jsx(c.Provider,{value:{usuario:r,loading:i,login:d,logout:u,isAdmin:r?.role==="admin"},children:e})}function n(){let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},66137:(e,r,t)=>{"use strict";t.d(r,{F:()=>p,e:()=>f});var o=t(95344),a=t(3729),s=t(7060),c=t(66138),i=t(91991),n=t(14513),l=t(99119),d=t(87292);function u({message:e,type:r,isVisible:t=!0,onClose:u}){return(0,a.useEffect)(()=>{if(t){let e=setTimeout(()=>{u()},3e3);return()=>clearTimeout(e)}},[t,u]),o.jsx(l.M,{children:t&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-6 right-6 z-50 flex items-center gap-3 rounded-xl border border-white/10 bg-black/80 px-4 py-3 text-sm text-white shadow-2xl backdrop-blur-md",children:[(0,o.jsxs)("div",{className:`rounded-full p-1 ${"success"===r?"bg-green-500/20 text-green-500":"error"===r?"bg-red-500/20 text-red-500":"bg-blue-500/20 text-blue-500"}`,children:["success"===r&&o.jsx(s.Z,{className:"h-4 w-4"}),"error"===r&&o.jsx(c.Z,{className:"h-4 w-4"}),"info"===r&&o.jsx(i.Z,{className:"h-4 w-4"})]}),o.jsx("span",{className:"font-medium pr-2",children:e}),o.jsx("button",{onClick:u,className:"ml-2 rounded-lg p-1 text-gray-400 hover:bg-white/10 hover:text-white transition-colors",children:o.jsx(n.Z,{className:"h-3 w-3"})})]})})}let h=(0,a.createContext)(void 0);function p({children:e}){let[r,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[i,n]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),[p,f]=(0,a.useState)(!0),[m,y]=(0,a.useState)(null),[x,E]=(0,a.useState)(null),b=(0,a.useCallback)((e,r)=>{E({message:e,type:r})},[]),g=(0,a.useCallback)(async()=>{f(!0);try{let[e,r,o,a]=await Promise.all([fetch("/api/clients"),fetch("/api/products"),fetch("/api/orders"),fetch("/api/fabricas")]);e.ok&&t(await e.json()),r.ok&&c(await r.json()),o.ok&&n(await o.json()),a.ok&&d(await a.json())}catch(e){console.error("Error fetching data:",e),b("Erro ao carregar dados","error")}finally{f(!1)}},[b]);(0,a.useEffect)(()=>{g();let e=localStorage.getItem("frplus_user");e&&y(e)},[g]);let w=async e=>{try{let r=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();t(r=>[...r,e]),b("Cliente cadastrado com sucesso!","success")}else b("Erro ao cadastrar cliente","error")}catch(e){console.error("Error adding client:",e),b("Erro ao cadastrar cliente","error")}},P=async(e,r)=>{try{let o=await fetch(`/api/clients/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(o.ok){let r=await o.json();t(t=>t.map(t=>t.id===e?r:t)),b("Cliente atualizado com sucesso!","success")}}catch(e){console.error("Error updating client:",e),b("Erro ao atualizar cliente","error")}},j=async e=>{try{(await fetch(`/api/clients/${e}`,{method:"DELETE"})).ok&&(t(r=>r.filter(r=>r.id!==e)),b("Cliente exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing client:",e),b("Erro ao excluir cliente","error")}},S=async e=>{try{(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await g(),b("Produto cadastrado com sucesso!","success")):b("Erro ao cadastrar produto","error")}catch(e){console.error("Error adding product:",e),b("Erro ao cadastrar produto","error")}},v=async(e,r)=>{try{(await fetch(`/api/products/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await g(),b("Produto atualizado com sucesso!","success"))}catch(e){console.error("Error updating product:",e),b("Erro ao atualizar produto","error")}},C=async e=>{try{(await fetch(`/api/products/${e}`,{method:"DELETE"})).ok&&(c(r=>r.filter(r=>r.id!==e)),b("Produto exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing product:",e),b("Erro ao excluir produto","error")}},T=async e=>{try{(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(await g(),b("Pedido cadastrado com sucesso!","success")):b("Erro ao cadastrar pedido","error")}catch(e){console.error("Error adding order:",e),b("Erro ao cadastrar pedido","error")}},k=async(e,r)=>{try{(await fetch(`/api/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await g(),b("Pedido atualizado com sucesso!","success"))}catch(e){console.error("Error updating order:",e),b("Erro ao atualizar pedido","error")}},O=async e=>{try{(await fetch(`/api/orders/${e}`,{method:"DELETE"})).ok&&(n(r=>r.filter(r=>r.id!==e)),b("Pedido exclu\xeddo com sucesso!","success"))}catch(e){console.error("Error removing order:",e),b("Erro ao excluir pedido","error")}},N=async e=>{try{let r=await fetch("/api/fabricas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.ok){let e=await r.json();d(r=>[...r,e]),b("F\xe1brica cadastrada com sucesso!","success")}}catch(e){console.error("Error adding fabrica:",e),b("Erro ao cadastrar f\xe1brica","error")}},z=async(e,r)=>{try{(await fetch(`/api/fabricas/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(await g(),b("F\xe1brica atualizada com sucesso!","success"))}catch(e){console.error("Error updating fabrica:",e),b("Erro ao atualizar f\xe1brica","error")}},D=async e=>{try{(await fetch(`/api/fabricas/${e}`,{method:"DELETE"})).ok&&(d(r=>r.filter(r=>r.id!==e)),b("F\xe1brica exclu\xedda com sucesso!","success"))}catch(e){console.error("Error removing fabrica:",e),b("Erro ao excluir f\xe1brica","error")}};return(0,o.jsxs)(h.Provider,{value:{clients:r,products:s,orders:i,fabricas:l,loading:p,addClient:w,updateClient:P,removeClient:j,addProduct:S,updateProduct:v,removeProduct:C,addOrder:T,updateOrder:k,removeOrder:O,addFabrica:N,updateFabrica:z,removeFabrica:D,getDashboardStats:()=>({totalSales:i.reduce((e,r)=>e+r.valorTotal,0),totalOrders:i.length,newClients:r.length,totalProducts:s.length}),showToast:b,user:m,login:e=>{y(e),localStorage.setItem("frplus_user",e)},logout:()=>{y(null),localStorage.removeItem("frplus_user")},refreshData:g},children:[e,x&&o.jsx(u,{message:x.message,type:x.type,onClose:()=>E(null)})]})}function f(){let e=(0,a.useContext)(h);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}},27570:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,metadata:()=>d});var o=t(25036);t(5023);var a=t(86843);let s=(0,a.createProxy)(String.raw`E:\FRPlus\frplus-web\src\components\Providers.tsx`),{__esModule:c,$$typeof:i}=s;s.default;let n=(0,a.createProxy)(String.raw`E:\FRPlus\frplus-web\src\components\Providers.tsx#Providers`);function l(){return o.jsx("div",{className:"fixed top-0 left-0 w-full bg-red-600 text-white text-center text-xs font-bold z-[9999] p-1",children:"DEBUG MODE: SE VOC\xca V\xca ISSO, O C\xd3DIGO NOVO SUBIU - VERS\xc3O: NUCLEAR"})}let d={title:"FRPlus - Sistema de Intelig\xeancia Comercial",description:"Gest\xe3o de Pedidos e Clientes"};function u({children:e}){return o.jsx("html",{lang:"pt-br",children:o.jsx("body",{className:"antialiased bg-black text-white h-screen w-screen selection:bg-blue-500 selection:text-white",children:(0,o.jsxs)(n,{children:[o.jsx(l,{}),e]})})})}},5023:()=>{}};